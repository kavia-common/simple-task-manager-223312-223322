{"is_source_file": true, "format": "Dart", "description": "This file implements a singleton class 'TodoDatabase' that manages local SQLite storage for 'Todo' entities. It provides methods for database connection handling, table creation, and CRUD operations such as insert, update, delete, toggle completion, and retrieve all todos. The class interacts with the 'sqflite' package and manages database lifecycle events like onCreate and onOpen.", "external_files": ["package:sqflite/sqflite.dart", "package:path/path.dart as p", "../models/todo.dart"], "external_methods": ["getDatabasesPath()", "openDatabase()"], "published": ["TodoDatabase"], "classes": [{"name": "TodoDatabase", "description": "A singleton class providing access to the local SQLite database for Todo entities, including methods for database initialization and CRUD operations."}], "methods": [{"name": "_internal", "description": "Private constructor for singleton pattern."}, {"name": "database", "description": "Getter that returns the database instance, initializing it if necessary."}, {"name": "_openDatabase", "description": "Handles opening and configuring the database, including setting up tables."}, {"name": "_createTables", "description": "Creates the 'todos' table if it does not exist."}, {"name": "insertTodo", "description": "Inserts a new Todo entry into the database and returns its ID."}, {"name": "updateTodo", "description": "Updates an existing Todo entry by its ID."}, {"name": "deleteTodo", "description": "Deletes a Todo entry by its ID."}, {"name": "toggleComplete", "description": "Toggles the completion status of a Todo identified by ID."}, {"name": "getAllTodos", "description": "Retrieves all Todo entries, ordered by completion status and creation time."}], "calls": ["getDatabasesPath()", "openDatabase()", "db.execute()", "db.insert()", "db.update()", "db.delete()", "db.query()"], "search-terms": ["TodoDatabase", "singleton", "SQLite storage", "CRUD operations", "sqflite", "database handling", "todos table"], "state": 2, "file_id": 20, "knowledge_revision": 43, "git_revision": "", "revision_history": [{"41": ""}, {"43": ""}], "hash": "d8b5262b2744d9a5327ca1b5dcd250ad", "format-version": 4, "code-base-name": "mobile_frontend", "filename": "mobile_frontend/lib/data/todo_database.dart"}